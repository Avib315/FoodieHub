@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.personal-area-page {
  min-height: 100vh;
  background: linear-gradient(135deg, $bg-lighter 0%, $bg-light 100%);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  direction: rtl;

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: $spacing-xl $spacing-lg;

    @include tablet {
      padding: $spacing-lg $spacing-md;
    }

    @include mobile {
      padding: $spacing-md;
    }
  }

  // Profile Header Section
  .profile-header {
    margin-bottom: $spacing-xxl;

    .profile-card {
      background: $bg-white;
      border-radius: $radius-xl;
      padding: $spacing-xxl;
      @include shadow(medium);
      @include flex-between;
      align-items: center;
      position: relative;
      overflow: hidden;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 4px;
        @include gradient-bg();
      }

      @include tablet {
        @include flex-column;
        text-align: center;
        gap: $spacing-lg;
      }

      .profile-avatar {
        width: 100px;
        height: 100px;
        border-radius: $radius-full;
        @include gradient-bg();
        @include flex-center;
        font-size: $font-4xl;
        color: $text-white;
        font-weight: $font-bold;
        @include shadow(primary);
        flex-shrink: 0;

        @include mobile {
          width: 80px;
          height: 80px;
          font-size: $font-3xl;
        }
      }

      .profile-info {
        flex: 1;
        margin: 0 $spacing-xl;

        @include tablet {
          margin: 0;
        }

        .profile-name {
          font-size: $font-3xl;
          font-weight: $font-bold;
          color: $text-color;
          margin: 0 0 $spacing-sm 0;

          @include mobile {
            font-size: $font-2xl;
          }
        }

        .profile-email {
          color: $text-light;
          font-size: $font-base;
          margin: 0 0 $spacing-xs 0;
        }

        .profile-join-date {
          color: $text-lighter;
          font-size: $font-sm;
          margin: 0;
        }
      }

      .edit-profile-btn {
        @include button-secondary;
        text-decoration: none;
        padding: $spacing-md $spacing-lg;
        border-radius: $radius-lg;
        font-weight: $font-semibold;
        margin: 10px;
        @include transition();

        &:hover {
          @include shadow(medium);
          transform: translateY(-2px);
        }

        @include tablet {
          width: 100%;
          max-width: 200px;
          text-align: center;
        }
      }
    }
  }

  // Stats Section
  .stats-section {
    margin-bottom: $spacing-xxl;

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: $spacing-lg;

      @include mobile {
        grid-template-columns: repeat(2, 1fr);
        gap: $spacing-md;
      }

      .stat-card {
        background: $bg-white;
        border-radius: $radius-lg;
        padding: $spacing-xl;
        text-align: center;
        @include shadow(light);
        @include transition();
        animation: fadeInUp 0.6s ease forwards;
        opacity: 0;

        @for $i from 1 through 4 {
          &:nth-child(#{$i}) {
            animation-delay: #{$i * 0.1}s;
          }
        }

        &:hover {
          @include shadow(medium);
          transform: translateY(-5px);
        }

        @include mobile {
          padding: $spacing-lg;
        }

        .stat-icon {
          font-size: $font-3xl;
          margin-bottom: $spacing-md;
          display: block;

          @include mobile {
            font-size: $font-2xl;
          }
        }

        .stat-number {
          font-size: $font-4xl;
          font-weight: $font-bold;
          color: $primary-color;
          margin-bottom: $spacing-sm;
          display: block;

          @include mobile {
            font-size: $font-3xl;
          }
        }

        .stat-label {
          color: $text-light;
          font-size: $font-base;
          font-weight: $font-medium;

          @include mobile {
            font-size: $font-sm;
          }
        }
      }
    }
  }

  // Quick Actions Section
  .quick-actions-section {
    margin-bottom: $spacing-xxl;

    .section-title {
      font-size: $font-2xl;
      font-weight: $font-bold;
      color: $text-color;
      margin-bottom: $spacing-xl;
      text-align: center;

      @include mobile {
        font-size: $font-xl;
        margin-bottom: $spacing-lg;
      }
    }

    .quick-actions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: $spacing-lg;

      @include mobile {
        grid-template-columns: 1fr;
        gap: $spacing-md;
      }

      .quick-action {
        background: $bg-white;
        border-radius: $radius-lg;
        padding: $spacing-xl;
        text-decoration: none;
        @include shadow(light);
        @include transition();
        display: flex;
        align-items: center;
        gap: $spacing-lg;
        position: relative;
        overflow: hidden;
        animation: slideInRight 0.6s ease forwards;
        opacity: 0;
        transform: translateX(30px);

        &::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 4px;
          height: 100%;
          @include transition();
        }

        &.primary::before {
          background: $primary-color;
        }

        &.secondary::before {
          background: $error-color;
        }

        &.success::before {
          background: $success-color;
        }

        &.warning::before {
          background: $warning-color;
        }

        &:hover {
          @include shadow(medium);
          transform: translateY(-3px);

          .quick-action-arrow {
            transform: translateX(-5px);
          }
        }

        .quick-action-icon {
          width: 60px;
          height: 60px;
          border-radius: $radius-lg;
          @include flex-center;
          font-size: $font-2xl;
          @include shadow(light);
          flex-shrink: 0;

          &.primary {
            background: linear-gradient(135deg, $primary-color, $primary-dark);
          }

          @include mobile {
            width: 50px;
            height: 50px;
            font-size: $font-xl;
          }

          span {
            filter: grayscale(0);
          }
        }

        .quick-action-content {
          flex: 1;

          .quick-action-title {
            font-size: $font-lg;
            font-weight: $font-semibold;
            color: $text-color;
            margin-bottom: $spacing-xs;

            @include mobile {
              font-size: $font-base;
            }
          }

          .quick-action-subtitle {
            color: $text-light;
            font-size: $font-sm;
          }
        }

        .quick-action-arrow {
          font-size: $font-lg;
          color: $text-lighter;
          @include transition();
        }
      }
    }
  }

  // Recent Activity Section
  .recent-activity-section {
    .section-title {
      font-size: $font-2xl;
      font-weight: $font-bold;
      color: $text-color;
      margin-bottom: $spacing-xl;
      text-align: center;

      @include mobile {
        font-size: $font-xl;
        margin-bottom: $spacing-lg;
      }
    }

    .activity-list {
      background: $bg-white;
      border-radius: $radius-lg;
      @include shadow(light);
      overflow: hidden;
      margin-bottom: $spacing-lg;

      .activity-item {
        display: flex;
        align-items: center;
        padding: $spacing-lg;
        gap: $spacing-lg;
        border-bottom: 1px solid $border-color;
        @include transition();
        animation: fadeInLeft 0.6s ease forwards;
        opacity: 0;
        transform: translateX(-20px);

        &:last-child {
          border-bottom: none;
        }

        &:hover {
          background: rgba($primary-color, 0.05);
        }

        .activity-icon {
          width: 50px;
          height: 50px;
          border-radius: $radius-lg;
          @include flex-center;
          background: linear-gradient(135deg, rgba($primary-color, 0.1), rgba($primary-dark, 0.1));
          font-size: $font-xl;
          flex-shrink: 0;

          @include mobile {
            width: 40px;
            height: 40px;
            font-size: $font-lg;
          }
        }

        .activity-content {
          flex: 1;

          .activity-title {
            font-size: $font-base;
            font-weight: $font-semibold;
            color: $text-color;
            margin-bottom: $spacing-xs;

            @include mobile {
              font-size: $font-sm;
            }
          }

          .activity-description {
            color: $text-light;
            font-size: $font-sm;
            @include text-clamp(1);

            @include mobile {
              font-size: $font-xs;
            }
          }
        }

        .activity-time {
          color: $text-lighter;
          font-size: $font-xs;
          white-space: nowrap;
          flex-shrink: 0;
        }
      }
    }

    .view-all-activity {
      display: block;
      text-align: center;
      padding: $spacing-md;
      color: $primary-color;
      text-decoration: none;
      font-weight: $font-medium;
      @include transition();

      &:hover {
        color: $primary-dark;
        transform: translateY(-1px);
      }
    }
  }
}

// Responsive adjustments for NavBar integration
@include laptop-up {
  .personal-area-page {
    // Account for desktop sidebar (240px width)
    margin-right: 240px;
  }
}

@include laptop {
  .personal-area-page {
    // Account for mobile bottom nav
    padding-bottom: 100px;

    .container {
      padding-bottom: $spacing-xxl + 100px;
    }
  }
}

// Animations
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}